<!DOCTYPE html>
<html>
  <head>
    <title>Tanks!</title>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
var webSocket = null;

function connect() {
  console.log("Connecting to server...");
  webSocket = new WebSocket("ws://localhost:2000");
  webSocket.onopen = function(e) {
    console.log("Connected to server");
  }
  webSocket.onclose = function(e) {
    console.log("Connection closed, attempting to reconnect...");
    reconnect = setTimeout(connect, 1000);
  }
  webSocket.onmessage = function(e) {
    console.log(event.data);
  }
}

function send(payload) {
  if(webSocket.readyState == WebSocket.OPEN) {
    webSocket.send(payload);
  } else {
    return "Error: Not connected";
  }
}
connect();
    </script>
  </body>
</html>